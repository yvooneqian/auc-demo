<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUC æ¦‚å¿µè¯¦è§£</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #e0f7fa 0%, #bbdefb 100%);
            color: #2c3e50;
        }
        .container {
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        h1 {
            color: #1a237e;
            text-align: center;
            font-size: 2.8em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        h2 {
            color: #283593;
            border-bottom: 3px solid #5c6bc0;
            padding-bottom: 10px;
            margin-top: 40px;
            font-size: 1.8em;
        }
        .section {
            margin: 30px 0;
            padding: 25px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(200, 200, 200, 0.2);
        }
        .definition {
            background: rgba(179, 229, 252, 0.4);
            border-left: 5px solid #29b6f6;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
            font-size: 1.1em;
            line-height: 1.7;
        }
        .interactive-demo {
            background: rgba(179, 229, 252, 0.3);
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            border: 1px solid rgba(41, 182, 246, 0.3);
        }
        .roc-canvas {
            border: 2px solid #5c6bc0;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            margin: 20px auto;
            display: block;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .controls {
            text-align: center;
            margin: 25px 0;
        }
        .controls button {
            background: linear-gradient(to right, #29b6f6, #0288d1);
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 8px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(41, 182, 246, 0.3);
            transition: all 0.3s ease;
        }
        .controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(41, 182, 246, 0.4);
        }
        .controls button:active {
            transform: translateY(1px);
        }
        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 25px 0;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 20px;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .legend-color {
            width: 22px;
            height: 22px;
            margin-right: 10px;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .perfect-model { background: #00c853; }
        .random_model { background: #ff9100; }
        .poor_model { background: #ff1744; }
        .formula {
            background: rgba(255, 245, 157, 0.4);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.3em;
            margin: 25px 0;
            border: 2px dashed #ffd600;
            font-weight: bold;
            color: #1a237e;
        }
        .example-box {
            background: rgba(200, 230, 201, 0.4);
            border: 2px solid #66bb6a;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
            font-size: 1.05em;
        }
        .interpretation {
            background: rgba(255, 204, 188, 0.4);
            border: 2px solid #ff8a65;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
            font-size: 1.05em;
        }
        ul {
            padding-left: 25px;
        }
        li {
            margin-bottom: 12px;
            line-height: 1.7;
        }
        .highlight {
            background: linear-gradient(120deg, #80deea 0%, #4dd0e1 100%);
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: bold;
            color: #01579b;
        }
        .note {
            background: rgba(255, 255, 255, 0.7);
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
            border-left: 5px solid #7e57c2;
            font-size: 1.05em;
        }
        .note strong {
            color: #4527a0;
        }
        .note ul {
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ AUC æ¦‚å¿µè¯¦è§£</h1>
        
        <div class="section">
            <div class="definition">
                <strong>AUC (Area Under the Curve)</strong> æ˜¯ ROC æ›²çº¿ä¸‹æ–¹çš„é¢ç§¯ï¼Œç”¨äºè¡¡é‡äºŒåˆ†ç±»æ¨¡å‹æ€§èƒ½çš„é‡è¦æŒ‡æ ‡ã€‚AUC å€¼è¶Šå¤§ï¼Œæ¨¡å‹çš„åˆ†ç±»èƒ½åŠ›è¶Šå¼ºã€‚
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“Š ä»€ä¹ˆæ˜¯ ROC æ›²çº¿ï¼Ÿ</h2>
            <p>ROC æ›²çº¿ï¼ˆReceiver Operating Characteristic Curveï¼‰æ˜¯ä»¥å‡æ­£ç‡ï¼ˆFPRï¼‰ä¸ºæ¨ªè½´ï¼ŒçœŸæ­£ç‡ï¼ˆTPRï¼‰ä¸ºçºµè½´ç»˜åˆ¶çš„æ›²çº¿ã€‚</p>
            <div class="formula">
                TPR = TP / (TP + FN) &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp; FPR = FP / (FP + TN)
            </div>
            <p>å…¶ä¸­ï¼š</p>
            <ul>
                <li><strong>TP (True Positive)</strong>ï¼šçœŸæ­£ä¾‹ï¼Œé¢„æµ‹ä¸ºæ­£ä¸”å®é™…ä¸ºæ­£</li>
                <li><strong>FN (False Negative)</strong>ï¼šå‡è´Ÿä¾‹ï¼Œé¢„æµ‹ä¸ºè´Ÿä½†å®é™…ä¸ºæ­£</li>
                <li><strong>FP (False Positive)</strong>ï¼šå‡æ­£ä¾‹ï¼Œé¢„æµ‹ä¸ºæ­£ä½†å®é™…ä¸ºè´Ÿ</li>
                <li><strong>TN (True Negative)</strong>ï¼šçœŸè´Ÿä¾‹ï¼Œé¢„æµ‹ä¸ºè´Ÿä¸”å®é™…ä¸ºè´Ÿ</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ® äº¤äº’å¼æ¼”ç¤º</h2>
            <div class="interactive-demo">
                <canvas id="rocCanvas" class="roc-canvas" width="600" height="400"></canvas>
                <div class="controls">
                    <button onclick="drawPerfectModel()">å®Œç¾æ¨¡å‹ (AUC = 1.0)</button>
                    <button onclick="drawGoodModel()">å¥½æ¨¡å‹ (AUC = 0.85)</button>
                    <button onclick="drawRandomModel()">éšæœºæ¨¡å‹ (AUC = 0.5)</button>
                    <button onclick="drawPoorModel()">å·®æ¨¡å‹ (AUC = 0.3)</button>
                </div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color perfect_model"></div>
                        <span>å®Œç¾æ¨¡å‹ (AUC = 1.0)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4CAF50;"></div>
                        <span>å¥½æ¨¡å‹ (AUC = 0.85)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color random_model"></div>
                        <span>éšæœºæ¨¡å‹ (AUC = 0.5)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color poor_model"></div>
                        <span>å·®æ¨¡å‹ (AUC = 0.3)</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“ˆ AUC å€¼çš„è§£é‡Š</h2>
            <div class="interpretation">
                <p><strong>AUC å€¼çš„èŒƒå›´ï¼š0.5 ~ 1.0</strong></p>
                <ul>
                    <li><span class="highlight">AUC = 1.0</span>ï¼šå®Œç¾åˆ†ç±»å™¨ï¼Œèƒ½å¤Ÿå®Œå…¨åŒºåˆ†æ­£è´Ÿæ ·æœ¬</li>
                    <li><span class="highlight">0.9 â‰¤ AUC < 1.0</span>ï¼šä¼˜ç§€åˆ†ç±»å™¨ï¼Œåˆ†ç±»æ•ˆæœå¾ˆå¥½</li>
                    <li><span class="highlight">0.8 â‰¤ AUC < 0.9</span>ï¼šè‰¯å¥½åˆ†ç±»å™¨ï¼Œåˆ†ç±»æ•ˆæœè¾ƒå¥½</li>
                    <li><span class="highlight">0.7 â‰¤ AUC < 0.8</span>ï¼šä¸€èˆ¬åˆ†ç±»å™¨ï¼Œåˆ†ç±»æ•ˆæœä¸€èˆ¬</li>
                    <li><span class="highlight">0.6 â‰¤ AUC < 0.7</span>ï¼šè¾ƒå·®åˆ†ç±»å™¨ï¼Œåˆ†ç±»æ•ˆæœè¾ƒå·®</li>
                    <li><span class="highlight">0.5 â‰¤ AUC < 0.6</span>ï¼šå¾ˆå·®åˆ†ç±»å™¨ï¼Œå‡ ä¹ç­‰åŒäºéšæœºçŒœæµ‹</li>
                    <li><span class="highlight">AUC = 0.5</span>ï¼šéšæœºåˆ†ç±»å™¨ï¼Œä¸éšæœºçŒœæµ‹ç›¸åŒ</li>
                    <li><span class="highlight">AUC < 0.5</span>ï¼šæ¯”éšæœºçŒœæµ‹è¿˜å·®ï¼Œå¯ä»¥é€šè¿‡åè½¬é¢„æµ‹ç»“æœå¾—åˆ° AUC > 0.5</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ’¡ AUC çš„ä¼˜ç‚¹</h2>
            <div class="example-box">
                <ul>
                    <li><strong>ä¸å—ç±»åˆ«ä¸å¹³è¡¡å½±å“</strong>ï¼šAUC å¯¹æ­£è´Ÿæ ·æœ¬æ¯”ä¾‹ä¸æ•æ„Ÿï¼Œé€‚ç”¨äºä¸å¹³è¡¡æ•°æ®é›†</li>
                    <li><strong>ç»¼åˆæ€§èƒ½è¯„ä¼°</strong>ï¼šAUC ç»¼åˆè€ƒè™‘äº†æ¨¡å‹åœ¨ä¸åŒé˜ˆå€¼ä¸‹çš„æ€§èƒ½ï¼Œæ¯”å•ä¸€é˜ˆå€¼æŒ‡æ ‡æ›´å…¨é¢</li>
                    <li><strong>æ— éœ€è®¾å®šé˜ˆå€¼</strong>ï¼šAUC ä¸ä¾èµ–äºç‰¹å®šçš„åˆ†ç±»é˜ˆå€¼ï¼Œå¯ä»¥è¯„ä¼°æ¨¡å‹çš„æ•´ä½“æ’åºèƒ½åŠ›</li>
                    <li><strong>ç›´è§‚æ˜“æ‡‚</strong>ï¼šAUC å€¼èŒƒå›´å›ºå®šï¼Œä¾¿äºä¸åŒæ¨¡å‹ä¹‹é—´çš„æ¯”è¾ƒ</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“ è®¡ç®—ç¤ºä¾‹</h2>
            <div class="example-box">
                <p>å‡è®¾æœ‰ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹é¢„æµ‹ç»“æœå’ŒçœŸå®æ ‡ç­¾ï¼š</p>
                <table style="width: 100%; border-collapse: collapse; margin: 10px 0;">
                    <tr style="background: #f0f0f0;">
                        <th style="border: 1px solid #ddd; padding: 8px;">æ ·æœ¬</th>
                        <th style="border: 1px solid #ddd; padding: 8px;">çœŸå®æ ‡ç­¾</th>
                        <th style="border: 1px solid #ddd; padding: 8px;">é¢„æµ‹æ¦‚ç‡</th>
                    </tr>
                    <tr><td style="border: 1px solid #ddd; padding: 8px;">1</td><td style="border: 1px solid #ddd; padding: 8px;">æ­£</td><td style="border: 1px solid #ddd; padding: 8px;">0.9</td></tr>
                    <tr><td style="border: 1px solid #ddd; padding: 8px;">2</td><td style="border: 1px solid #ddd; padding: 8px;">è´Ÿ</td><td style="border: 1px solid #ddd; padding: 8px;">0.8</td></tr>
                    <tr><td style="border: 1px solid #ddd; padding: 8px;">3</td><td style="border: 1px solid #ddd; padding: 8px;">æ­£</td><td style="border: 1px solid #ddd; padding: 8px;">0.7</td></tr>
                    <tr><td style="border: 1px solid #ddd; padding: 8px;">4</td><td style="border: 1px solid #ddd; padding: 8px;">è´Ÿ</td><td style="border: 1px solid #ddd; padding: 8px;">0.6</td></tr>
                    <tr><td style="border: 1px solid #ddd; padding: 8px;">5</td><td style="border: 1px solid #ddd; padding: 8px;">æ­£</td><td style="border: 1px solid #ddd; padding: 8px;">0.5</td></tr>
                </table>
                <p>é€šè¿‡è®¡ç®—ä¸åŒé˜ˆå€¼ä¸‹çš„ TPR å’Œ FPRï¼Œå¯ä»¥ç»˜åˆ¶ ROC æ›²çº¿å¹¶è®¡ç®— AUC å€¼ã€‚</p>
            </div>
        </div>

        <div class="section">
            <h2>âš ï¸ æ³¨æ„äº‹é¡¹</h2>
            <div class="note">
                <p><strong>ä½¿ç”¨ AUC æ—¶éœ€è¦æ³¨æ„ï¼š</strong></p>
                <ul>
                    <li>AUC åªå…³æ³¨æ¨¡å‹çš„æ’åºèƒ½åŠ›ï¼Œä¸å…³æ³¨é¢„æµ‹æ¦‚ç‡çš„å‡†ç¡®æ€§</li>
                    <li>åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼ŒAUC å¯èƒ½ä¸æ˜¯æœ€ä½³è¯„ä¼°æŒ‡æ ‡</li>
                    <li>å¯¹äºå¤šåˆ†ç±»é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–è¯„ä¼°æŒ‡æ ‡æˆ–è®¡ç®—å¤šä¸ª AUC</li>
                    <li>AUC é«˜ä¸ä¸€å®šä»£è¡¨æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­è¡¨ç°å¥½ï¼Œè¿˜éœ€è¦ç»“åˆä¸šåŠ¡éœ€æ±‚</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('rocCanvas');
        const ctx = canvas.getContext('2d');

        function drawAxes() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶åæ ‡è½´
            ctx.strokeStyle = '#1a237e';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, 350);
            ctx.lineTo(550, 350);
            ctx.moveTo(50, 350);
            ctx.lineTo(50, 50);
            ctx.stroke();
            
            // ç»˜åˆ¶åˆ»åº¦
            ctx.font = '14px Arial';
            ctx.fillStyle = '#1a237e';
            ctx.textAlign = 'center';
            for (let i = 0; i <= 10; i++) {
                const x = 50 + i * 50;
                const y = 350 - i * 30;
                
                // Xè½´åˆ»åº¦
                ctx.fillText((i / 10).toFixed(1), x, 375);
                ctx.beginPath();
                ctx.moveTo(x, 345);
                ctx.lineTo(x, 355);
                ctx.stroke();
                
                // Yè½´åˆ»åº¦
                if (i > 0) {
                    ctx.textAlign = 'right';
                    ctx.fillText((i / 10).toFixed(1), 45, y + 5);
                    ctx.beginPath();
                    ctx.moveTo(45, y);
                    ctx.lineTo(55, y);
                    ctx.stroke();
                }
            }
            
            // è½´æ ‡ç­¾
            ctx.font = 'bold 16px Arial';
            ctx.fillStyle = '#1a237e';
            ctx.textAlign = 'center';
            ctx.fillText('å‡æ­£ç‡ (FPR)', 300, 400);
            ctx.save();
            ctx.translate(20, 200);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('çœŸæ­£ç‡ (TPR)', 0, 0);
            ctx.restore();
            
            // ç»˜åˆ¶å¯¹è§’çº¿ï¼ˆéšæœºæ¨¡å‹ï¼‰
            ctx.strokeStyle = '#90a4ae';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(50, 350);
            ctx.lineTo(550, 50);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // æ·»åŠ ç½‘æ ¼çº¿
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            for (let i = 1; i < 10; i++) {
                const pos = 50 + i * 50;
                ctx.beginPath();
                ctx.moveTo(pos, 50);
                ctx.lineTo(pos, 350);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(50, 50 + i * 30);
                ctx.lineTo(550, 50 + i * 30);
                ctx.stroke();
            }
        }

        function drawROC(curveData, color, label, lineWidth = 4) {
            ctx.strokeStyle = color;
            ctx.lineWidth = lineWidth;
            ctx.beginPath();
            
            for (let i = 0; i < curveData.length; i++) {
                const x = 50 + curveData[i].fpr * 500;
                const y = 350 - curveData[i].tpr * 300;
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            
            ctx.stroke();
            
            // æ·»åŠ æ•°æ®ç‚¹
            ctx.fillStyle = color;
            for (let i = 0; i < curveData.length; i += 3) {
                const x = 50 + curveData[i].fpr * 500;
                const y = 350 - curveData[i].tpr * 300;
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fill();
            }
            
            // æ·»åŠ æ ‡ç­¾
            ctx.font = 'bold 14px Arial';
            ctx.fillStyle = '#1a237e';
            if (curveData.length > 10) {
                const midIndex = Math.floor(curveData.length / 2);
                const labelX = 50 + curveData[midIndex].fpr * 500 + 15;
                const labelY = 350 - curveData[midIndex].tpr * 300;
                ctx.fillText(`AUC = ${curveData[0].auc}`, labelX, labelY);
            }
        }

        function generatePerfectModel() {
            const curve = [];
            for (let i = 0; i <= 100; i++) {
                curve.push({
                    fpr: i / 100,
                    tpr: i === 0 ? 0 : 1,
                    auc: 1.0
                });
            }
            return curve;
        }

        function generateGoodModel() {
            const curve = [];
            for (let i = 0; i <= 100; i++) {
                const fpr = i / 100;
                const tpr = Math.pow(fpr, 0.3) * 0.95;
                curve.push({ fpr, tpr, auc: 0.85 });
            }
            return curve;
        }

        function generateRandomModel() {
            const curve = [];
            for (let i = 0; i <= 100; i++) {
                curve.push({
                    fpr: i / 100,
                    tpr: i / 100,
                    auc: 0.5
                });
            }
            return curve;
        }

        function generatePoorModel() {
            const curve = [];
            for (let i = 0; i <= 100; i++) {
                const fpr = i / 100;
                const tpr = fpr * 0.3;
                curve.push({ fpr, tpr, auc: 0.3 });
            }
            return curve;
        }

        function drawPerfectModel() {
            drawAxes();
            drawROC(generatePerfectModel(), '#00c853', 'å®Œç¾æ¨¡å‹');
        }

        function drawGoodModel() {
            drawAxes();
            drawROC(generateGoodModel(), '#29b6f6', 'å¥½æ¨¡å‹');
        }

        function drawRandomModel() {
            drawAxes();
            drawROC(generateRandomModel(), '#ff9100', 'éšæœºæ¨¡å‹');
        }

        function drawPoorModel() {
            drawAxes();
            drawROC(generatePoorModel(), '#ff5252', 'å·®æ¨¡å‹');
        }

        // åˆå§‹ç»˜åˆ¶
        drawAxes();
        drawROC(generateGoodModel(), '#29b6f6', 'å¥½æ¨¡å‹');
    </script>
</body>
</html>